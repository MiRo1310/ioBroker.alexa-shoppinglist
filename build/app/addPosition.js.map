{
  "version": 3,
  "sources": ["../../src/app/addPosition.ts"],
  "sourcesContent": ["import type { ShoppingList } from '../types/types';\nimport type AlexaShoppinglist from '../main';\nimport { timeout } from './timeout';\nimport { adapterIds } from './ids';\nimport { errorLogger } from './logging';\n\nexport const addPositionNumberAndBtn = (\n    adapter: AlexaShoppinglist,\n    array: ShoppingList[],\n    list: 'active' | 'inactive',\n): void => {\n    let num = 0;\n    // Button\n    const symbolLink = '\u274C';\n    const symbolMoveToInactive = '\u21AA';\n    const symbolMoveToActive = '\u21A9';\n    const colorBtnON = 'green';\n    const { getAlexaIds } = adapterIds();\n    for (const element of array) {\n        num++;\n        element.pos = num; // Positionsnummern eintragen\n\n        const idAlexaButtonDelete = getAlexaIds.idAlexaButtons(element.id, '#delete');\n        const idAlexaButtonCompleted = getAlexaIds.idAlexaButtons(element.id, 'completed');\n\n        // Der Button delete\n\n        const val1JSON = `<button style=\"border:none; cursor:pointer; background-color:transparent; color:white; font-size:1em; text-align:center\" value=\"toggle\" onclick=\"setOnDblClickCustomShop('${\n            idAlexaButtonDelete\n        },${true}')\">${symbolLink}</button> <font color=\"${colorBtnON}\">`;\n\n        if (list === 'active') {\n            element.buttonmove = `<button style=\"border:none; cursor:pointer; background-color:transparent; color:white; font-size:1em; text-align:center\" value=\"toggle\" onclick=\"setOnDblClickCustomShop('${\n                idAlexaButtonCompleted\n            },${true}')\">${symbolMoveToInactive}</button> <font color=\"${colorBtnON}\">`;\n        }\n\n        if (list === 'inactive') {\n            element.buttonmove = `<button style=\"border:none; cursor:pointer; background-color:transparent; color:white; font-size:1em; text-align:center\" value=\"toggle\" onclick=\"setOnDblClickCustomShop('${\n                idAlexaButtonCompleted\n            },${false}')\">${symbolMoveToActive}</button> <font color=\"${colorBtnON}\">`;\n        }\n        element.buttonDeleteId = idAlexaButtonDelete;\n        element.buttonCompletedId = idAlexaButtonCompleted;\n        element.buttondelete = val1JSON;\n    }\n};\n\nexport const addPosition = async (\n    adapter: AlexaShoppinglist,\n    element: ioBroker.StateValue,\n    idTextToCommand: string,\n): Promise<void> => {\n    try {\n        const { getAdapterIds, getAlexaIds } = adapterIds();\n        const { listName } = getAlexaIds.alexaInstanceValues;\n        const result = await adapter.getForeignStateAsync(idTextToCommand, async () => {});\n\n        if (!result) {\n            adapter.log.info('State not found! Please check the ID!');\n            return;\n        }\n\n        await adapter.setForeignStateAsync(idTextToCommand, `${element} to ${listName} list`, false);\n        timeout().setTimeout(\n            1,\n            adapter.setTimeout(async () => {\n                await adapter.setState(getAdapterIds.idAddPosition, '', false);\n            }, 2000),\n        );\n    } catch (e: any) {\n        errorLogger('Error add position', e, adapter);\n    }\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,qBAAwB;AACxB,iBAA2B;AAC3B,qBAA4B;AAErB,MAAM,0BAA0B,CACnC,SACA,OACA,SACO;AACP,MAAI,MAAM;AAEV,QAAM,aAAa;AACnB,QAAM,uBAAuB;AAC7B,QAAM,qBAAqB;AAC3B,QAAM,aAAa;AACnB,QAAM,EAAE,YAAY,QAAI,uBAAW;AACnC,aAAW,WAAW,OAAO;AACzB;AACA,YAAQ,MAAM;AAEd,UAAM,sBAAsB,YAAY,eAAe,QAAQ,IAAI,SAAS;AAC5E,UAAM,yBAAyB,YAAY,eAAe,QAAQ,IAAI,WAAW;AAIjF,UAAM,WAAW,6KACb,mBACJ,IAAI,IAAI,OAAO,UAAU,0BAA0B,UAAU;AAE7D,QAAI,SAAS,UAAU;AACnB,cAAQ,aAAa,6KACjB,sBACJ,IAAI,IAAI,OAAO,oBAAoB,0BAA0B,UAAU;AAAA,IAC3E;AAEA,QAAI,SAAS,YAAY;AACrB,cAAQ,aAAa,6KACjB,sBACJ,IAAI,KAAK,OAAO,kBAAkB,0BAA0B,UAAU;AAAA,IAC1E;AACA,YAAQ,iBAAiB;AACzB,YAAQ,oBAAoB;AAC5B,YAAQ,eAAe;AAAA,EAC3B;AACJ;AAEO,MAAM,cAAc,OACvB,SACA,SACA,oBACgB;AAChB,MAAI;AACA,UAAM,EAAE,eAAe,YAAY,QAAI,uBAAW;AAClD,UAAM,EAAE,SAAS,IAAI,YAAY;AACjC,UAAM,SAAS,MAAM,QAAQ,qBAAqB,iBAAiB,YAAY;AAAA,IAAC,CAAC;AAEjF,QAAI,CAAC,QAAQ;AACT,cAAQ,IAAI,KAAK,uCAAuC;AACxD;AAAA,IACJ;AAEA,UAAM,QAAQ,qBAAqB,iBAAiB,GAAG,OAAO,OAAO,QAAQ,SAAS,KAAK;AAC3F,gCAAQ,EAAE;AAAA,MACN;AAAA,MACA,QAAQ,WAAW,YAAY;AAC3B,cAAM,QAAQ,SAAS,cAAc,eAAe,IAAI,KAAK;AAAA,MACjE,GAAG,GAAI;AAAA,IACX;AAAA,EACJ,SAAS,GAAQ;AACb,oCAAY,sBAAsB,GAAG,OAAO;AAAA,EAChD;AACJ;",
  "names": []
}
