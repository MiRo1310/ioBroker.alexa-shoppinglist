{
  "version": 3,
  "sources": ["../../src/app/getAlexaDevices.ts"],
  "sourcesContent": ["import type AlexaShoppinglist from '../main';\nimport type { OnMessageObj } from '../types/types';\nimport { errorLogger } from './logging';\n\nexport const getAlexaDevices = async (adapter: AlexaShoppinglist, obj: OnMessageObj): Promise<void> => {\n    try {\n        const devices = await adapter.getObjectViewAsync('system', 'device', {\n            startkey: `${obj.message.alexa}.Echo-Devices.`,\n            endkey: `${obj.message.alexa}.Echo-Devices.\\u9999`,\n        });\n        const result: { label: ioBroker.StringOrTranslated; value: string }[] = [];\n        for (let i = 0; i < devices.rows.length; i++) {\n            const a = devices.rows[i];\n            if (\n                a.value &&\n                a.value.common.name !== 'Timer' &&\n                a.value.common.name !== 'Reminder' &&\n                a.value.common.name !== 'Alarm'\n            ) {\n                result.push({\n                    label: a.value.common.name,\n                    value: `${a.id}.Commands.textCommand`,\n                });\n            }\n        }\n        adapter.log.debug(`Devices: ${JSON.stringify(result)}`);\n        obj.callback && adapter.sendTo(obj.from, obj.command, result, obj.callback);\n    } catch (e: any) {\n        errorLogger('Error getAlexaDevices', e, adapter);\n    }\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,qBAA4B;AAErB,MAAM,kBAAkB,OAAO,SAA4B,QAAqC;AACnG,MAAI;AACA,UAAM,UAAU,MAAM,QAAQ,mBAAmB,UAAU,UAAU;AAAA,MACjE,UAAU,GAAG,IAAI,QAAQ,KAAK;AAAA,MAC9B,QAAQ,GAAG,IAAI,QAAQ,KAAK;AAAA,IAChC,CAAC;AACD,UAAM,SAAkE,CAAC;AACzE,aAAS,IAAI,GAAG,IAAI,QAAQ,KAAK,QAAQ,KAAK;AAC1C,YAAM,IAAI,QAAQ,KAAK,CAAC;AACxB,UACI,EAAE,SACF,EAAE,MAAM,OAAO,SAAS,WACxB,EAAE,MAAM,OAAO,SAAS,cACxB,EAAE,MAAM,OAAO,SAAS,SAC1B;AACE,eAAO,KAAK;AAAA,UACR,OAAO,EAAE,MAAM,OAAO;AAAA,UACtB,OAAO,GAAG,EAAE,EAAE;AAAA,QAClB,CAAC;AAAA,MACL;AAAA,IACJ;AACA,YAAQ,IAAI,MAAM,YAAY,KAAK,UAAU,MAAM,CAAC,EAAE;AACtD,QAAI,YAAY,QAAQ,OAAO,IAAI,MAAM,IAAI,SAAS,QAAQ,IAAI,QAAQ;AAAA,EAC9E,SAAS,GAAQ;AACb,oCAAY,yBAAyB,GAAG,OAAO;AAAA,EACnD;AACJ;",
  "names": []
}
